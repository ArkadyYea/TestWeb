<!DOCTYPE html>
<html>
<body>

    <h3>JAX-RS Server Sent Events test</h3>
    <textarea id="ta" rows="30" cols="120" ></textarea>
 
    <script>
        let ta = document.querySelector('#ta');
        ta.append('Script Test');
    
        class Events {
            constructor() {
                //this.events = new EventsSource('../res/sse');
                this.events = new EventSource('http://localhost:8080/TestWeb/res/sse');
                this.events.onopen = (e) => console.log(e);

                //this.events.onmessage = (e) => console.log(e);
                //this.events.onmessage = ({data}) => console.log(data);
                
                this.events.onmessage = ({data}) => ta.append('\n'+data);
                //this.events.onmessage = (e) => ta.append('\n'+e);
            }
        }

        new Events();
    </script>
</body>
</html>