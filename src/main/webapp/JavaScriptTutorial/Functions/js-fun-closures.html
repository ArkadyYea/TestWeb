<html>
    <head>
        <title></title>
        <meta charset="utf-8">
    </head>
    <body></body>

<script>
    document.write('Before<br/>');

    //A closure is a function having access to the parent scope, even after the parent function has closed.
    //The variable add is assigned the return value of a self-invoking function.
    //The self-invoking function only runs once. It sets the counter to zero (0), and returns a function expression.
    //This way add becomes a function. The "wonderful" part is that it can access the counter in the parent scope. 
    //This is called a JavaScript closure. It makes it possible for a function to have "private" variables.
    //The counter is protected by the scope of the anonymous function, and can only be changed using the add function.
     
    var add = (function () {
        var counter = 0;
        return function () {return counter += 1;}   //add becomes a function with access to counter var of anonymous function closed after execution.
    })();

    add();
    add();  // the counter is now 2 
    document.write('A closure is a function having access to the parent scope, even after the parent function has closed. Counter is: '+add());
    
    document.write('<br/>After<br/>');
    
    
</script>


</html>